=== TEST TC-MBE-2.5: Invite Member With Valid Data ===

1. Register admin user:
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   923  100   826  100    97   9999   1174 --:--:-- --:--:-- --:--:-- 11256
HTTP/1.1 201 Created
X-Powered-By: Express
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=utf-8
Content-Length: 826
ETag: W/"33a-1nTCplNV3+3SoAmfkorCIOmGmS8"
Date: Mon, 01 Sep 2025 20:10:07 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{"userId":"c1f98bc9-423c-49e3-90e8-f0a296171e8e","email":"admin@test.com","displayName":"Admin User","accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjMWY5OGJjOS00MjNjLTQ5ZTMtOTBlOC1mMGEyOTYxNzFlOGUiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwidHlwZSI6ImFjY2VzcyIsImlhdCI6MTc1Njc1NzQwNywiZXhwIjoxNzU2NzU4MzA3LCJhdWQiOiJmcmlkZ3IuYXBwIiwiaXNzIjoiZnJpZGdyLmFwcCJ9.Y4i5pgG4Cu2Spw5Bop2vA8m8wMI02m5sdqy73hYG-HE","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjMWY5OGJjOS00MjNjLTQ5ZTMtOTBlOC1mMGEyOTYxNzFlOGUiLCJqdGkiOiI4MDI0ZDg3YS1jMmY5LTQ3MGUtOWFmMS00YTg5NWM4YWI2MzgiLCJ0eXBlIjoicmVmcmVzaCIsImlhdCI6MTc1Njc1NzQwNywiZXhwIjoxNzU3MzYyMjA3LCJhdWQiOiJmcmlkZ3IuYXBwIiwiaXNzIjoiZnJpZGdyLmFwcCJ9.hRHNJoUjnDVtgLPuj9sIXGmnizGh-9kQO4rSuLG1ErE","expiresIn":900,"defaultHouseholdId":"4d7fac5c-cf82-4c14-939a-6c589bcdbe1e"}

2. Login as admin user:
{
    "userId": "c1f98bc9-423c-49e3-90e8-f0a296171e8e",
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjMWY5OGJjOS00MjNjLTQ5ZTMtOTBlOC1mMGEyOTYxNzFlOGUiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwidHlwZSI6ImFjY2VzcyIsImlhdCI6MTc1Njc1NzQwNywiZXhwIjoxNzU2NzU4MzA3LCJhdWQiOiJmcmlkZ3IuYXBwIiwiaXNzIjoiZnJpZGdyLmFwcCJ9.Y4i5pgG4Cu2Spw5Bop2vA8m8wMI02m5sdqy73hYG-HE",
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjMWY5OGJjOS00MjNjLTQ5ZTMtOTBlOC1mMGEyOTYxNzFlOGUiLCJqdGkiOiIzNDhjODVlMi0yYWU4LTQyMDItYTMxNS05NjU5YWIwZjJiMzAiLCJ0eXBlIjoicmVmcmVzaCIsImlhdCI6MTc1Njc1NzQwNywiZXhwIjoxNzU3MzYyMjA3LCJhdWQiOiJmcmlkZ3IuYXBwIiwiaXNzIjoiZnJpZGdyLmFwcCJ9.bGY6IwkhbE_UXZvKhWo-kiUeDx2Nu2dYUoPuezxUh1A",
    "expiresIn": 900,
    "households": [
        {
            "id": "4d7fac5c-cf82-4c14-939a-6c589bcdbe1e",
            "name": "Admin User's Home",
            "role": "admin"
        }
    ]
}


3. Get household ID from user's households:
{
    "households": [
        {
            "id": "4d7fac5c-cf82-4c14-939a-6c589bcdbe1e",
            "name": "Admin User's Home",
            "description": "Default household",
            "role": "admin",
            "memberCount": 1,
            "itemCount": 157,
            "expiringItemCount": 4,
            "createdAt": "2025-09-01T20:10:07.356Z"
        }
    ],
    "total": 1
}


4. Invite member to household (POST /api/v1/households/4d7fac5c-cf82-4c14-939a-6c589bcdbe1e/members):
Command: curl -iSX POST http://localhost:8080/api/v1/households/4d7fac5c-cf82-4c14-939a-6c589bcdbe1e/members
  -H "Authorization: Bearer $ACCESS_TOKEN"
  -H "Content-Type: application/json"
  -d '{"email":"newmember@test.com","role":"member"}'

Response:
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   204  100   158  100    46  49607  14442 --:--:-- --:--:-- --:--:-- 68000
HTTP/1.1 201 Created
X-Powered-By: Express
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=utf-8
Content-Length: 158
ETag: W/"9e-pWY0MXoAIkowQw5SA9aMVfvuV/g"
Date: Mon, 01 Sep 2025 20:10:07 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{"invitationId":"42223a05-d386-4c6c-8b24-933e8b432da8","email":"newmember@test.com","role":"member","status":"pending","expiresAt":"2025-09-08T20:10:07.526Z"}

=== TEST TC-MBE-2.5 COMPLETED ===
